 <!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>RAND NEWYORK</title>
	<link href="http://www.randstatestats.org/css/style.css" type="text/css" rel="stylesheet">
	<link href="http://www.randstatestats.org/css/popup.css" type="text/css" rel="stylesheet">
	<link href="http://www.randstatestats.org/css/ui.css" type="text/css" rel="stylesheet">
	<script src="http://www.randstatestats.org/js/html5.js" type="text/javascript"></script>
	<link rel="stylesheet" type="text/css" href="http://www.randstatestats.org/css/dateinput.css">
	<script> var URL_SITE = 'http://www.randstatestats.org'</script>
	<script src="http://www.randstatestats.org/print-preview/src/jquery.tools.min.js"></script>

	<!-- SHARING PAGE -->	
	<script type="text/javascript" src="http://www.randstatestats.org/js/buttons.js"></script>
	<script type="text/javascript">var switchTo5x=true;</script>
	<script type="text/javascript" src="http://w.sharethis.com/button/buttons.js"></script>
	<script type="text/javascript">stLight.options({publisher: "79e7fce2-dfdd-41fe-96d0-2b632e09dc27", doNotHash: false, doNotCopy: false, hashAddressBar: false});</script>

	<!-- /SHARING PAGE -->	

	<!-- Scripts &styles for Table Sorter -->
	<link rel="stylesheet" href="http://www.randstatestats.org/themes/blue/style.css" type="text/css" media="print, projection, screen" />
	<script type="text/javascript" src="http://www.randstatestats.org/js/jquery.tablesorter.js"></script>
	<script type="text/javascript">		
		$(function() {
			$(".data-table").tablesorter({debug: true})
			//$("a.append").click(appendData);			
		});
	</script>
	<!-- /Scripts for Table Sorter -->
	<script type="text/javascript" src="http://www.randstatestats.org/js/jquery.validate.min.js"></script>	
	<script type="text/javascript" src="http://www.randstatestats.org/js/jquery.validations.js"></script>

	<script type="text/javascript" src="http://www.randstatestats.org/js/jquery.blockUI.js"></script>
	<script type="text/javascript" src="js/jwplayer.js" ></script>

	<!-- Script for print -->
	<script language="javascript" type="text/javascript" src="http://www.randstatestats.org/js/jquery.printElement.min.js"></script>

	<script type="text/javascript" src="http://www.randstatestats.org/js/js_actions.js"></script>

	<!-- js for pie line Bar Graph -->
	<!-- <script src="http://www.randstatestats.org/libraries/RGraph.common.core.js" ></script>
	<script src="http://www.randstatestats.org/libraries/RGraph.common.dynamic.js" ></script>    
	<script src="http://www.randstatestats.org/libraries/RGraph.common.tooltips.js" ></script>
	<script src="http://www.randstatestats.org/libraries/RGraph.common.key.js" ></script>	
	<script src="http://www.randstatestats.org/libraries/RGraph.line.js" ></script>
	<script src="http://www.randstatestats.org/libraries/RGraph.pie.js"></script>
	<script src="http://www.randstatestats.org/libraries/RGraph.bar.js"></script> -->
	<!-- /js for pie line Bar Graph -->

	<script type="text/javascript" src="http://www.randstatestats.org/libraries/jquery.tokeninput.js"></script> 
	<link rel="stylesheet" href="http://www.randstatestats.org/css/token-input.css" type="text/css" />

	<!-- <script src="js/jquery-1.8.2.min.js" type="text/javascript"></script> -->
	<script src="js/jquery.cycle.all.min.js" type="text/javascript"></script>

	<meta name="description" content="RAND State Statistics contains more than 200 databases and is made up of four sites, each with a specific geographic focus. RAND State Statistics contains more than 80 databases that cover all 50 U.S. states. RAND California contains these 80 databases plus about 100 detailed databases on California. RAND Texas contains the same 80 databases found on RAND State Statistics plus about 50 detailed databases on Texas. RAND New York contains the same 80 databases found on RAND State Statistics plus about 30 detailed databases on New York. For information on subscribing, see <a href='http://www.randstatestats.org/userRegistration.php'>user Registration</a>. RAND State Statistics is sponsored by the RAND Corporation, the nation's leading think tank.">

	
	<style type="text/css" media="print">
	@page
	{
		size: landscape;
		margin: 2cm;
	}
	</style>

</head>
<body>
	<!-- Wrapper -->
    <div id="wrapper">

		<!-- login form -->
				
		<!-- /popup form -->
		
    	<!-- header -->
        <!-- top navigation -->
        <div class="headertop">
				<div class="quicklinks">
                	<ul class="login-nav">
						    								<li>
									<a class="" title="Logout" href="http://www.randstatestats.org/logout.php"><i class="icon-unlock"></i>Logout</a>
								</li>

								<li id="login-profile">
									<a href="http://www.randstatestats.org/profile.php?action=view">Hello&nbsp;Pragati									</a>
									<script type="text/javascript"> jQuery("#login-profile").hover(function(){ jQuery(".notification").remove();});</script>
									
									<!-- hide - show -->
									<div class="login-main" id="login-main" style="display: none;">
										<div class="img-div">
											<a href="http://www.randstatestats.org/profile.php?action=view">
												<img title="Pragati" alt="Pragati" width="65px" height="65px"  src="http://www.randstatestats.org/images/profile.png"  />
											</a>
										</div>
										<div class="right-side">
											<ul>
												<li><a href="http://www.randstatestats.org/profile.php?action=view">View profile</a></li>
												<li><a href="http://www.randstatestats.org/profile.php?action=edit">Edit profile</a></li>

																								<li><a href="http://www.randstatestats.org/account.php">My account</a></li>
												
															
											</ul>
										</div>
									</div>
									<script>
										$("#login-profile").hover(function(){
										$('#login-main').show();
									},function(){
										$('#login-main').hide();
									});
									</script>
									<!-- /hide - show -->
							</li>

							
						                    </ul>

                    <ul class="search-top">
                    	<li>
                        	<form action="http://www.randstatestats.org/topResults.php" name="front_searchForm" id="front_searchForm">
								<input class="seacrh-input required" type="text" for="search" name="search" value="" />
							</form>
							
                        </li>
                    </ul>
                </div>
            </div>
            <!-- /top navigation -->

			
			
      	   <!-- Main div -->

		   <!-- header -->
		   <header>    	
				
				<div id="inner-mainshell">

					<!-- header left -->
					<section class="headerleft">
						<!-- logo -->
						<div class="logo">
							<h3><a href="http://www.randstatestats.org/index.php">RAND.com</a></h3>
						</div>
						<!-- /logo -->
						<h2>
							State Statistics <br> <span>A service of the rand corporation</span>
						</h2>
					</section>
					<!-- /header left -->

					<!-- header right -->
					<section class="headerright">
						<nav>
							<ul>
								<li><a href="http://www.randstatestats.org/index.php">Home</a></li>
								<li><a href="http://www.randstatestats.org/about.php">About RAND State Statistics</a></li>
								<li><a href="http://www.randstatestats.org/contact_us.php" class="last">Contact Us</a></li>
							</ul>
						</nav>
						<div class="clear pT15"></div>

												<nav class="wdthpercent100">
							<ul class="right">
								<li class="brws">Browse:</li>
																<li>
									<a title="RAND NEW YORK"  class="activedb"  href="?db=rand_newyork">NY</a>
								</li>
																<li>
									<a title="RAND US"  href="?db=rand_usa">US</a>
								</li>
															</ul>
						</nav>
											</section>
					<!-- /header right -->
				</div>
				<!-- /Main div -->

				<!-- Navigation Page -->
				
	<nav class="categorie-nav">
		<ul>
						<li class="">
				<a class="unselect_class " id="select_class_7" href="http://www.randstatestats.org/forms.php?cat=7">Population & Demographics</a>
			</li>
						<li class="">
				<a class="unselect_class " id="select_class_6" href="http://www.randstatestats.org/forms.php?cat=6">Health & Health Care</a>
			</li>
						<li class="">
				<a class="unselect_class " id="select_class_1" href="http://www.randstatestats.org/forms.php?cat=1">Business & Economics</a>
			</li>
						<li class="">
				<a class="unselect_class " id="select_class_2" href="http://www.randstatestats.org/forms.php?cat=2">Crimes, Prisons & Courts</a>
			</li>
						<li class="">
				<a class="unselect_class " id="select_class_49" href="http://www.randstatestats.org/forms.php?cat=49">Labor Force, Employment & Earnings</a>
			</li>
						<li class="">
				<a class="unselect_class " id="select_class_47" href="http://www.randstatestats.org/forms.php?cat=47">Energy</a>
			</li>
				

			<li class="moreSection">
			
				<a class="" href="http://www.randstatestats.org/forms.php?cat=4&section=0">More >></a>				

				<div id="more_sections_data_div" class="allmenu">					
					<ul>
										
						<li>
							<a class="" id="" href="http://www.randstatestats.org/forms.php?cat=4&section=0">Environment, Resources & Weather</a>
						</li>			
										
						<li>
							<a class="" id="" href="http://www.randstatestats.org/forms.php?cat=3&section=0">K-12 Education</a>
						</li>			
										
						<li>
							<a class="" id="" href="http://www.randstatestats.org/forms.php?cat=53&section=0">Higher Education</a>
						</li>			
										
						<li>
							<a class="" id="" href="http://www.randstatestats.org/forms.php?cat=48&section=0">Income, Expenditure, Wealth & Poverty</a>
						</li>			
										
						<li>
							<a class="" id="" href="http://www.randstatestats.org/forms.php?cat=50&section=0">Social Insurance & Human Services</a>
						</li>			
										
						<li>
							<a class="" id="" href="http://www.randstatestats.org/forms.php?cat=51&section=0">Transportation & Travel</a>
						</li>			
										
						<li>
							<a class="" id="" href="http://www.randstatestats.org/forms.php?cat=52&section=0">Federal Government</a>
						</li>			
										
						<li>
							<a class="" id="" href="http://www.randstatestats.org/forms.php?cat=5&section=0">State & Local Government</a>
						</li>			
											</ul>				
				</div>

		    </li>
		</ul>
	</nav>
				<!-- /Navigation Page -->		

			</header>
			<!-- /header -->
 <!-- container -->
<section id="container">
 <!-- main div -->
	<section id="inner-content" class="conatiner-full" >
	<h2>Usage Statistics</h2><br/>
	<div class="left">
		<form method="post" action="" name="search_history" id="search_history">
			<b>Search:</b>&nbsp;&nbsp;from&nbsp;
			<input max="2013-08-29" name="start_date" type="date" id="start_date" placeholder="Start Date" value=""> &nbsp;to&nbsp;
				
			<input max="2013-08-29" name="end_date" id="end_date" type="date" value="29 Aug 2013"  placeholder="End Date">
										
			<input type="submit" value="Go" class="mL10" id="submitHistory" name="search">
		</form>
							<br/>
			<b>Showing:</b> from <b>29 Jul 2013</b> to <b>29 Aug 2013</b>
			</div>	
	<div id="" class="right pR10">
		<ul class="submenu">
			<li id="showGrid" ><a href="?show=grid">Grid View</a>
			</li>
			
			<li id="showChart"  class="current"><a href="?graph=linegraph" >Line Graph</a>
			</li>

			<li id="showChart"  ><a href="?graph=bargraph" >Column Graph</a>
			</li>
		</ul>								
	</div>

	<br class="clear"/>
	<br class="clear"/>
	<table width="100%" cellspacing="4" cellpadding="4">
	<tr>
		<td  width="5%">&nbsp</td>
		<td  colspan="2"><strong>Options:</strong>&nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" value="0" name = "showgraphoption" class = "showgraphOption" checked>&nbsp;Lines Only&nbsp;&nbsp;<input type="radio" name = "showgraphoption" value="1" class = "showgraphOption">&nbsp;Points Only&nbsp;&nbsp;<input type="radio" name = "showgraphoption" class = "showgraphOption" value="2">&nbsp;Both</td>
	</tr>		
	<tr>
		<td width="5%"></td>
		<td>
			<div  id="placeholder" style="width:auto;height:500px;" >
			</div>	
		</td>
	</tr>
	<tr>
		<td width="5%">&nbsp;</td>
		<td>
			<div class="graph-deatail" id="choices">
			</div>
			<div class="clear">&nbsp;</div>
		</td>
	</tr>
</table>
<input type="hidden" id="showPoints" value="0" />
<script language="javascript" type="text/javascript" src="http://www.randstatestats.org/js/jquery.flot.js"></script>
<script language="javascript" type="text/javascript" src="http://www.randstatestats.org/js/jquery.flot.time.js"></script>
    <script type="text/javascript">
	$(function() {

		var datasets = {
											"checkboxes_0":{
								label: "202.131.116.194",
								data:  [										[1375336800000,2],										[1376373600000,1],										[1377151200000,16],										[1377237600000,21],										[1377410400000,9],										[1377496800000,21],										[1377583200000,46],										[1377669600000,8],										[1377756000000,16]]
								},
													"checkboxes_1":{
								label: "202.111.116.195",
								data:  [										[1376287200000,1]]
								},
													"checkboxes_2":{
								label: "202.133.116.194",
								data:  [										[1376546400000,1],										[1377410400000,1]]
								},
													"checkboxes_3":{
								label: "202.131.116.195",
								data:  [										[1377151200000,2]]
								},
													"checkboxes_4":{
								label: "202.131.111.194",
								data:  [										[1377151200000,1]]
								},
													"checkboxes_5":{
								label: "201.131.116.194",
								data:  [										[1377583200000,1]]
								},
													"checkboxes_6":{
								label: "202.131.115.194",
								data:  [										[1377583200000,1]]
								},
													"checkboxes_7":{
								label: "202.131.116.196",
								data:  [										[1377583200000,1]]
								},
										};
		
				
					
		var maxDate = '2013/08/30';
		var minDate = '2013/08/1';
		var one_day = 1000*60*60*24; 

		//Here we need to split the inputed dates to convert them into standard format
        var min		= minDate.split("/");     
        var max		= maxDate.split("/");
		//date format(Fullyear,month,date) 

        var date1=new Date(min[0],(min[1]-1),min[2]);  
        var date2=new Date(max[0],(max[1]-1),max[2]);

        //Calculate difference between the two dates, and convert to days 
        var Difference=Math.ceil((date2.getTime()-date1.getTime())/(one_day));

		var i = 0;
		$.each(datasets, function(key, val) {
			val.color = i;
			++i;
		});

		var count = 0;

		// insert checkboxes 
		var choiceContainer = $("#choices");
		$.each(datasets, function(key, val) {
			var stringval = val.label;
			var labelwithoutspaces = stringval.replace(/[^a-z0-9\s]/gi, '').replace(/[_\s]/g, '-');
			choiceContainer.append("<div class='serieslabelcontainer'><div class='seriescheckbox'><input type='checkbox' name='" + key +
				"' checked='checked' id='id" + key + "'/></div>" +
				"<div class='seriescolor " + labelwithoutspaces + "'  id='color_codes" + key + "' ></div><label for='id" + key + "'>"
				+ val.label + "</label></div>");
			count++;
		});

		choiceContainer.find("input").click(plotAccordingToChoices);

		function plotAccordingToChoices() {

			var data = [];
			var showPointsVal = jQuery('#showPoints').val();
							
			var showpoints = false;

			var showgraph = true;

			if(showPointsVal == '1'){
				showpoints = true;
				showgraph = false;
			} else if(showPointsVal == '2'){
				showpoints = true;
				showgraph = true;
			}

			choiceContainer.find("input:checked").each(function () {
				var key = $(this).attr("name");
				if (key && datasets[key]) {
					data.push(datasets[key]);
				}
			});

			if (data.length > 0) 
				var plot = $.plot("#placeholder", data, {
					canvas: true,
					legend: { 
						show: true,  
						noColumns: 3, 
					},
					series: {
					   lines: { show: showgraph, lineWidth: 1 },
					   points: { show: showpoints,  lineWidth: 1 }

					},
					grid: { hoverable: true, clickable: true },
					yaxis: {
						min: 0
					},
					xaxis: {
						
						mode:"time",
						//ticks: 12,
						timeformat: "%d",
						monthNames: ["jan", "feb", "mar", "apr", "may", "jun", "jul", "aug", "sep", "oct", "nov", "dec"],
						minTickSize: [1, "day"],

						min: (new Date(minDate)).getTime(),
						max: (new Date(maxDate)).getTime()
						
					}
				});

				var series = plot.getData();
								
				 for (var i = 0; i < series.length; ++i){
					var stringval = series[i].label;
					var labelwithoutspaces = stringval.replace(/[^a-z0-9\s]/gi, '').replace(/[_\s]/g, '-');
					jQuery('.' + labelwithoutspaces + '').html('<div style="border:1px solid #ccc;padding:1px"><div style="width:4px;height:0;border:5px solid ' + series[i].color + ';overflow:hidden"></div></div>');
				} 

				for (var i = 0; i < count; ++i){
					if(jQuery('#idcheckbox_' +  i + '').is(':checked')){
					} else {
						jQuery('#color_codescheckbox_' + i + ' ').html('');
					}
				}
			}

		plotAccordingToChoices();

		jQuery('.showgraphOption').click(function(){				
			var value = jQuery(this).val();
			jQuery('#showPoints').val(value);
			plotAccordingToChoices();
		
		});

		function showTooltip(x, y, contents) {
			$('<div id="flot-tooltip">' + contents + '</div>').css( {
				position: 'absolute',
				display: 'none',
				top: y + 5,
				left: x + 5,
				border: '1px solid #fdd',
				padding: '2px',
				'background-color': '#fee',
				opacity: 0.80
			}).appendTo("body").fadeIn(200);
		}

		// Add the Flot version string to the footer
		var previousPoint = null;
		$("#placeholder").bind("plothover", function (event, pos, item) {
			$("#x").text(pos.x.toFixed(2));
			$("#y").text(pos.y.toFixed(2));
			if (item) {
				if (previousPoint != item.datapoint) {
					previousPoint = item.datapoint;
					$("#flot-tooltip").remove();
	 
					var originalPoint;
	 
					/*if (item.datapoint[0] == item.series.data[0][3]) {
						originalPoint = item.series.data[0][0];
					} else if (item.datapoint[0] == item.series.data[1][3]){
						originalPoint = item.series.data[1][0];
					} else if (item.datapoint[0] == item.series.data[2][3]){
						originalPoint = item.series.data[2][0];
					} else if (item.datapoint[0] == item.series.data[3][3]){
						originalPoint = item.series.data[3][0];
					} else if (item.datapoint[0] == item.series.data[4][3]){
						originalPoint = item.series.data[4][0];
					}*/
	 
					//var x = getMonthName(originalPoint);
					//var x = $.plot.formatDate(item.datapoint[0], "%y/%m/%d");
					var x = item.datapoint[0].toFixed(2);
					var d = new Date(parseInt(x));
					var x = $.plot.formatDate(d, "%d %b,%Y");
					y = item.datapoint[1];
					z = item.series.color;
	 
					showTooltip(item.pageX, item.pageY,
						"<b>" + item.series.label + ":</b><br /> Total Clicks on " + x + " = " + y + "",
						z);
				}
			} else {
				$("#flot-tooltip").remove();
				previousPoint = null;
			}
    });

		$("#footer").prepend("Flot " + $.plot.version + " &ndash; ");
	});
    </script>
    
	
	</section>
		
</section>

<div class="clear">&nbsp;</div>
	<footer>
       	<div id="mainshell">
 	       <div class="footernav">
            <ul>
            	<li class="first"><a href="http://www.rand.org/index.html">RAND Home</a></li>
            	<li><a href="http://www.rand.org/about.html">About RAND</a></li>
                <li><a href="http://www.rand.org/research_areas.html">Research Areas</a></li>
                <li><a href="http://www.rand.org/pubs.html">Books and Publications</a></li>
                <li><a href="http://www.rand.org/jobs.html">Opportunities</a></li>
            </ul>
        </div>
		        <div class="footernav">
            <ul>
				<li class="first"><a href="http://www.randstatestats.org/terms.php#Web%20Site%20Privacy%20Policy">Privacy Policy</a></li>
				<li><a href="http://www.randstatestats.org/terms.php">Terms and Conditions</a></li>
            </ul>
        </div>
        <div class="footernav">
            <ul>
            	<li class="first"><a href="#">Contact Info</a></li>
				<li><a href="http://www.randstatestats.org/contact_us.php">Contact Us</a></li>
            	<li><a href="#">randstatistics.org</a></li>
            </ul>
         </div>
       </div>
  </footer>
        



	</div>
	<!-- /Wrapper -->
</body>
</html>
